## 一、Day 1

### 1.1 新增一个 “迭代分类” 的对象，一个项目下可以有多个迭代分类，一个迭代分类支持包含多个迭代，支持拼音或创建顺序排序，重命名，支持最基础的 CRUD，需要如何设计表结构？

### 1.2 sql 的注释需要包含哪些内容？为什么？

枚举值说明，字段说明

### 1.3 在获取「迭代分类」的时，发现客户端传递的迭代分类名称不符合规则，使用什么错误码？

### 1.4  errors.Trace()的作用是什么？

从里向外原样返回错误时，必须调用这个方法，以记录里层错误的栈信息

## 二、Day 2

### 2.1 新增了一个任务，搜索不到，可能的原因应该从哪几个方面考虑？

1. 分词器
2. river
3. down

### 2.2 新增一个 Restful 的接口，需要包含最基础的 CRUD，需要将代码划分为哪些层级，分别放在项目文件夹中的什么位置？

1. router
   1. 框架Iris, 用来分发请求
2. middlewares
   1. 请求前判断是否登录，是否属于某个组织
   2. 中间件主要为了让部分功能与具体的业务进行解耦，在增加中间件的时候始终考虑是否有必要成为一个中间件，又或者仅仅是一个 utils 方法
3. controllers
   1. 负责处理请求参数，此层不可包含业务逻辑代码
4. services
   1. 业务代码，负责处理业务单元，考虑 restful 相关各个业务模块之间的层级关系，避免循环依赖
5. models
   1. 操作数据库，查询/修改数据

### 2.3 如果想要在所有外部不需要登录就能访问的接口返回的时候增加一个限速功能，应该将代码写在哪一层？

mvc写在route

限速代码写在middlewares

### 2.4 新增一个数据模板需要存放在项目的什么位置?

template

### 2.5 db 文件夹下的 bang.sql 的作用是什么？

备份master分支上的库所有基本表结构

### 2.6 什么时候会使用到 bang.sql?

数据迁移

### 2.7 什么情况下需要更新 bang.sql？

修改表结构

### 2.8 上述问题中新增的 迭代分类对象的迁移脚本应该写在哪里？用什么方式来写？有什么需要注意的规范？

ones-migration

基于binlog事件 增删查

### 2.9 如果研发一个迭代需要修改配置文件，配置更改的说明应该写在哪里？

配置文件地址conf/config.json

说明migrateion/upgrade.yaml

### 2.10 需要重启 Dev 某个分支的进程应该怎么操作？

### 2.11 如果 ES 相关的接口报500，应该怎么排查？

1. es服务挂了
2. es查询in太多超过几千个
3. es语法错误

### 2.12 如何启动ONES River？

### 2.13 如何重建某个分支的 ES 索引？

### 2.14 如果非 ES 相关的接口报500，应该如何排查？

1. 定位具体接口
2. 发现错误代码位置
3. 如果是数据库
4. 如果是逻辑错误

### 2.15 新建分支后，快速导入 Master 数据，可以怎么操作

1. jenkins
2. 脚本

## 三、Day 3 ~ 4.5

### 3.1 为什么需要有 context，他是做什么的？

### 3.2 新增一个「迭代分类」的 Context。如何新增一个「迭代分类负责人」的用户域？这个用户域能在哪些 context 下使用？

### 3.3 新增一个「管理迭代分类」的权限点，同时只能设置「团队负责人」，「项目负责人」，「角色」和「部门」的用户域

## 四、Day 4.5 ~ 5.5

### 4.1 写一个 GraphQL 查询，要求列出某个「项目」下的所有「需求」，并且按照「需求来源」分组，分组本身需要显示「需求来源名称」，并以「需求来源」正序排序，分组里面的「需求」按照「创建时间」逆序排序。

## 五、Day 5.5 ~ 7

### 5.1 根据上述新增的表结构，设计「迭代分类」的 Item，说明每个属性的名称和属性类型，以及需要至少需要实现的方法。给「迭代分类」加一个「迭代数量」的属性，这个属性应该如何设计实现？
